中断向量表（IVT）是 BIOS 在实模式下用于管理中断处理程序的一张固定表。其地址公式为 `地址 = n * 4` 是由以下几个关键点决定的：

---

### **IVT 的结构**
1. **每个中断向量占用 4 字节**：
   - 中断向量是一个指向中断处理程序的指针，它存储处理程序的段地址和偏移地址。
   - 每个中断向量由两部分组成：
     - **偏移地址**（2 字节）：处理程序在段中的偏移。
     - **段地址**（2 字节）：处理程序所在的段。
   - 合计每个中断向量占用 **4 字节**。

2. **256 个中断号**：
   - 实模式支持 256 个中断号（从 `0x00` 到 `0xFF`），因此中断向量表的总大小是：
     ```text
     256 × 4 = 1024 字节（1 KB）
     ```
   - 中断向量表位于内存的最低地址空间，起始地址为 `0x0000`，结束地址为 `0x03FF`。

---

### **地址公式的来源**
中断向量表中第 `n` 个中断号的存储位置需要通过计算得出。因为每个中断向量占用 **4 字节**，所以第 `n` 个中断号在表中的起始位置为：
```text
地址 = 起始地址 + (n × 每个中断向量大小)
```
由于 IVT 的起始地址是 `0x0000`，所以简化为：
```text
地址 = n × 4
```

- 举例：
  - `n = 0x00`（第 0 号中断）：地址 = `0x00 * 4 = 0x0000`。
  - `n = 0x08`（第 8 号中断）：地址 = `0x08 * 4 = 0x0020`。
  - `n = 0xFF`（第 255 号中断）：地址 = `0xFF * 4 = 0x03FC`。

---

### **中断向量表的查找过程**
当发生中断时，CPU 根据中断号 `n`：
1. 通过 `地址 = n * 4` 查找中断向量表中第 `n` 个中断向量的起始位置。
2. 从该位置读取 4 字节的内容：
   - **前 2 字节**：偏移地址。
   - **后 2 字节**：段地址。
3. 组合出段：偏移地址，跳转到对应的中断处理程序。

---

### **总结**
`地址 = n * 4` 是因为：
- 每个中断向量占 4 字节。
- 中断号 `n` 的起始位置按顺序依次递增。
- IVT 起始地址是固定的 `0x0000`。

这个公式简单高效地支持 CPU 快速查找中断处理程序的位置。
